<!DOCTYPE HTML>
<html lang="en">
<head>
  <title>Практическое применение WebGL</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=792, user-scalable=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script type="text/javascript" src="js/lib/three.min.js"></script>
  <script type="text/javascript" src="js/lib/OBJLoader.js"></script>
  <script type="text/javascript" src="js/lib/TrackballControls.js"></script>
  <script type="text/javascript" src="js/cube.js"></script>
  <!-- <script type="text/javascript" src="js/player.js"></script> -->
  <script type="text/javascript" src="js/point.js"></script>
  <script type="x-shader/x-vertex" id="vshader">
    varying vec2 vUv;

    void main() {
      vUv = uv;
      vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
      gl_Position = projectionMatrix * mvPosition;
    }
  </script>
  <script type="x-shader/x-fragment" id="fshader">
    uniform sampler2D u_Sampler;
    varying vec2 vUv;

    void main() {
      gl_FragColor = texture2D(u_Sampler, vUv);
    }
  </script>
  <!-- <script type="text/javascript" src="js/shader_material.js"></script> -->
  <script type="text/javascript" src="js/load.js"></script>
  <!-- <script type="text/javascript" src="js/mode_wireframe.js"></script> -->
  <link rel="stylesheet" href="shower/themes/ribbon/styles/screen.css">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="list">
  <header class="caption">
    <h1>Практическое применение WebGL</h1>
    <p>Василика Климова</p>
  </header>
  <section class="slide cover" id="Cover"><div>
    <h2>Практическое<br> применение<br> WebGL</h2>
    <p>
      <a href="http://vasilika.ru" target="_blank">Василика Климова</a>
      <br>
      Разработчик интерфейсов
      <br>
      Artec 3D
    </p>
    <div class="right-bottom"><a href="https://twitter.com/Lik04ka" target="_blank">@lik04ka</a></div>
    <img src="pictures/artec.png" alt="Artec Group">
  </div></section>
  
  <section class="slide"><div>
    <h2>Artec 3D</h2>
    <ul>
      <li><a href="http://www.artec3d.com/" target="_blank">Artec 3D</a></li>
      <li><a href="http://www.shapify.me/" target="_blank">Shapify</a></li>
      <li><a href="http://www.viewshape.com/" target="_blank">Viewshape</a></li>
    </ul>
    <img src="pictures/eva.png" class="eva" alt="Artec Group">

    <img src="pictures/spider.png" class="spider" alt="Artec Group">
  </div></section>

  <section class="slide"><div>
    <h2>Shapify Booth</h2>
    <div class="text-center">
    <img src="pictures/booth1.png" class="" alt="Artec Group" height="450"></div>
  </div></section>

  <section class="slide"><div>
    <h2>Содержание</h2>
    <ul>
      <li>WebGL</li>
      <li class="next">Язык шейдеров</li>
      <li class="next">Фильтрация текстур</li>
      <li class="next">Постобработка</li>
      <li class="next">Частицы</li>
      <li class="next">Отладка</li>
    </ul>
  </div></section>
  
  <section class="slide shout top-threejs big-img"><div>
    <img src="pictures/webgl-big.jpg" alt="" class="center-img">
  </div></section>

  <section class="slide"><div>
  <h2>Конструкторы</h2>
  <iframe width="100%" height="450px" src="https://www.youtube.com/embed/088bns0VIWw" frameborder="0" allowfullscreen></iframe>
   <!-- <div class="text-center">
      <a href="https://www.youtube.com/embed/088bns0VIWw">Анатомия</a>
    </div> -->
  </div></section>

  <section class="slide top-threejs big-img background"><div>
    <h2>Интерактивные карты</h2>
    <img src="pictures/rainforest.png" alt="">
    <a href="http://rainforest.arkivert.no/#panorama/5" target="_blank">rainforest.arkivert.no</a>
  </div></section>

  <section class="slide top-threejs big-img "><div>
  <h2>Панорамы</h2>
  <!-- <iframe width="100%" height="100%" src="https://yandex.ru/maps/213/moscow/?ll=37.620393%2C55.765575&z=10&l=stv%2Csta&panorama%5Bpoint%5D=37.613964%2C55.747048&panorama%5Bdirection%5D=352.779606%2C5.598913&panorama%5Bspan%5D=99.028133%2C80.000000" frameborder="0" allowfullscreen></iframe> -->
  <img src="pictures/yandex.png" alt="">
    <a href="https://yandex.ru/maps/213/moscow/?ll=37.620393%2C55.765575&z=10&l=stv%2Csta&panorama%5Bpoint%5D=37.613964%2C55.747048&panorama%5Bdirection%5D=352.779606%2C5.598913&panorama%5Bspan%5D=99.028133%2C80.000000" target="_blank">yandex.ru</a>
  </div></section>

  <section class="slide top-threejs big-img "><div>
   <h2>Mapbox GL JS</h2>
   <img src="pictures/mapbox.png" alt="">
    <a href="https://www.mapbox.com/" target="_blank">mapbox.com</a>
  </div></section>

   <section class="slide  top-threejs big-img "><div>
   <h2>Статистика</h2>
   <img src="pictures/arm.png" alt="">
    <a href="http://armsglobe.chromeexperiments.com/" target="_blank">armsglobe.chromeexperiments.com</a>
  <!-- <iframe width="100%" height="100%" src="http://armsglobe.chromeexperiments.com/" frameborder="0" allowfullscreen></iframe> -->
  </div></section>

  <section class="slide unity"><div>
    <h2>Unity 3D</h2>
    <div class="text-center big-font">
      <img src="pictures/unity-webgl.png" alt="http://unity3d.com/ru/unity/multiplatform">
    </div>
  </div></section>

   <section class="slide top-threejs big-img background"><div>
   <h2>Blend4Web</h2>
   <img src="pictures/blender.png" alt="">
    <a href="https://www.blend4web.com/apps/dairy_plant/dairy_plant.html?lang=ru&v=20160531180542" target="_blank">blend4web.com</a>
  <!-- <iframe width="100%" height="100%" src="https://www.blend4web.com/apps/dairy_plant/dairy_plant.html?lang=ru&v=20160531180542" frameborder="0" allowfullscreen></iframe> -->
  </div></section>

  <section class="slide top-threejs big-img background"><div>
   <h2>GL-React</h2>
   <img src="pictures/react.gif" alt=""></a>
    <a href="https://projectseptemberinc.gitbooks.io/gl-react/content/" target="_blank">projectseptemberinc.gitbooks.io</a>
  <!-- <iframe width="100%" height="100%" src="https://www.blend4web.com/apps/dairy_plant/dairy_plant.html?lang=ru&v=20160531180542" frameborder="0" allowfullscreen></iframe> -->
  </div></section>

  

  <section class="slide"><div>
    <h2>WebGL 1.0</h2>
    <ul>
      <li>HTML5 <code>&lt;canvas&gt;</code></li>
      <li>OpenGL ES 2.0</li>
      <li>GLSL ES 1.1</li>
      <li>2D/3D</li>
    </ul>
    <div id="cube-canvas" width="200px" height="200px"></div>
    <br>
    <img src="pictures/khronos.png" alt="">
    <img src="pictures/opengles.png" alt="" class="opengles">
    <img src="pictures/webgl.png" alt="" class="webgl-img">
  </div></section>
  <section class="slide"><div>
    <h2>Поддержка браузерами</h2>
    <div class="text-center">
      <span class="iewbgl next">IEWebGL</span>
      <p><img src="pictures/desktop.png" alt=""></p>
      <p><a href="http://caniuse.com/webgl" target="_blank">caniuse.com/webgl</a></p>
    </div>
  </div></section>

  <section class="slide"><div>
    <h2>Проверка поддержки WebGL</h2>
    <iframe src="http://get.webgl.org/" scrolling="no" width="100%" height="380px"></iframe>
    <div class="text-center">
      <a href="http://get.webgl.org/" target="_blank">get.webgl.org</a>
    </div>
  </div></section>
  <section class="slide"><div>
    <h2>WebGL</h2>
    <table class="table html">
      <tr>
        <td><img src="pictures/html5.png" alt=""></td>
        <td><span>+</span></td>
        <td><img src="pictures/js2.png" alt=""></td>
        <td><span>+</span></td>
        <td><span>GLSL ES</span></td>
      </tr>
    </table>
  </div></section>

  <section class="slide"><div>
    <h2>Программа на WebGL</h2>
    <div class="text-center">
      <img src="pictures/point.png" alt="" height="100%">
    </div>
  </div></section>

  <section class="slide"><div>
    <h2>Точка</h2>
    <canvas id="webgl-point" width="800" height="450"></canvas>
  </div></section>

  <section class="slide shout shaders big-img top-threejs"><div>
    <a href="http://threejs.org/examples/#webgl_particles_shapes" target="_blank">
      threejs.org/examples/#webgl_particles_shapes
    </a>
    <img src="pictures/top_three.png" alt="">
  </div></section>

  <section class="slide connection"><div>
    <h2>Взаимосвязь</h2>
    <div class="text-center">
      <img src="pictures/connection1.gif" alt="">
    </div>
  </div></section>
  <section class="slide connection"><div>
    <h2>Взаимосвязь</h2>
    <div class="text-center">
      <img src="pictures/connection2.gif" alt="">
    </div>
  </div></section>
  <section class="slide connection"><div>
    <h2>Взаимосвязь</h2>
    <div class="text-center">
      <img src="pictures/connection3.gif" alt="">
    </div>
  </div></section>
  <section class="slide connection"><div>
    <h2>Взаимосвязь</h2>
    <div class="text-center">
      <img src="pictures/connection4.gif" alt="">
    </div>
  </div></section>

  <section class="slide shout shaders big-img"><div>
    <h2>Шейдеры</h2>
    <img src="pictures/top_shaders.jpg" alt="">
  </div></section>

  <section class="slide"><div>
    <h2>GLSL</h2>
    <ul class="vertical-middle">
      <li>Синтаксис C</li>
      <li>Типы</li>
      <li>Задействует GPU</li>
      <li>Строки</li>
      <li>Runtime</li>
    </ul>
  </div></section>

  <section class="slide"><div>
    <h2>Виды шейдеров</h2>
    <p>
      <ul>
        <li>Вершинные шейдеры</li>
        <li>Фрагментные шейдеры</li>
      </ul>
    </p>
    <div class="text-center">
      <img src="pictures/shaders.png" alt="">
    </div>
  </div></section>

  <section class="slide"><div>
    <h2>Растеризация</h2>
    <div class="text-center">
      <img src="pictures/raster2.png" alt="">
      <br>
      <img src="pictures/raster.png" alt="">
    </pre>
  </div></section>
  <section class="slide"><div>
    <h2>Типы данных</h2>
    <ul>
      <li>bool</li>
      <li>int</li>
      <li>float</li>
      <li>vec2 / vec3 / vec4</li>
      <li>mat2 / mat3 / mat4</li>
      <li>sampler2D</li>
    </ul>
  </div></section>
  <section class="slide vars"><div>
    <h2>Типы классификаторов</h2>  
    <table>
      <tr>
        <th>Описатели/Шейдеры</th>
        <th>Вершинный</th>
        <th>Фрагментный</th>
      </tr>
      <tr>
        <th>attribute</th>
        <td>READ</td>
        <td>-</td>
      </tr>
      <tr>
        <th>uniform</th>
        <td>READ</td>
        <td>READ</td>
      </tr>
      <tr>
        <th>varying</th>
        <td>READ/WRITE</td>
        <td>READ</td>
      </tr>
    </table>
    <div class="text-center">
      <img src="pictures/vars.png" alt="">
    </div>
  </div></section>

  <section class="slide"><div>
    <h2>Матрица Модели-Вида-Проекции</h2>
    <div class="text-center"><img src="pictures/matrix.png" alt=""></div>
  </div></section>

  <section class="slide"><div>
    <h2>Вершинный шейдер</h2>
    <pre class="vertical-middle">
      <code>&lt;script type="x-shader/x-<mark>vertex</mark>" id="vshader"&gt;</code>  
      <code>  varying vec2 vUv;</code>  
      <code>  void main() {</code>  
      <code>    vUv = uv;</code>
      <code>    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);</code> 
      <code>    <mark>gl_Position</mark> = projectionMatrix * mvPosition;</code>   
      <code>  }</code>      
        <code>&lt;/script&gt;</code>
      </pre>
  </div></section>

  <section class="slide"><div>
    <h2>Фрагментный шейдер. Текстурирование</h2>
    <pre class="vertical-middle">
      <code>&lt;script type="x-shader/x-<mark>fragment</mark>" id="fshader"&gt;</code>  
      <code>  uniform sampler2D u_Sampler;</code>
      <code>  varying vec2 vUv;</code>
      <code>  void main() {</code>
      <code>    <mark>gl_FragColor</mark> = texture2D(u_Sampler, vUv);</code>    
      <code>  }</code>
        <code>&lt;/script&gt;</code>
    </pre>
  </div></section>

  <section class="slide"><div>
    <h2>Материал из шейдера</h2>
    <pre>
      <code>var vShader = document.getElementById("vshader").text;</code>
      <code>var fShader = document.getElementById("fshader").text;</code>
      <span class="next">
        <code>object.material = new THREE.<mark>ShaderMaterial</mark>({</code>
        <code>   uniforms: {</code>
        <code>      u_Sampler: {type: "t", value: <mark>texture</mark>}</code>
        <code>   },</code>
        <code>   vertexShader: vShader,</code>
        <code>   fragmentShader: fShader,</code>
        <code>});</code>
      </span>
    </pre>
  </div></section>

  <section class="slide"><div>
    <h2>Модель с текстурой</h2>
    <img src="pictures/webgl_alpha_false.jpg" alt="">
  </div></section>

  <section class="slide camera"><div>
    <h2>Черно-белый фильтр</h2>
    <pre>
      <code><mark>filter</mark>: grayscale(100%);</code>
    </pre>
    <img src="pictures/troll.png" alt="" width="500">
  </div></section>

  <section class="slide"><div>
    <h2>Черно-белый фильтр</h2>
    <img src="pictures/b&w.png" alt="" width="600">
  </div></section>

  <section class="slide"><div>
    <h2>Фрагментный шейдер. ЧБ текстура</h2>
    <pre class="vertical-middle">
      <code>&lt;script type="x-shader/x-<mark>fragment</mark>" id="fshader"&gt;</code>  
      <code>uniform sampler2D <mark>u_Sampler</mark>;</code>
      <code>varying vec2 <mark>vUv</mark>;</code>
      <code>void main() {</code>
      <code>  vec4 color = texture2D(u_Sampler, vUv);</code>
      <code>  color.rgb = <mark>vec3(color.r + color.g + color.b)/3.0;</mark></code>
      <code>  gl_FragColor = color;</code>
      <code>}</code>
        <code>&lt;/script&gt;</code>
    </pre>
  </div></section>

  <section class="slide"><div>
    <h2>Сепия</h2>
    <pre class="vertical-middle sepia-code">
      <code>float tone = 0.299 * col.r + 0.587 * col.g + 0.114 * col.b;</code>  
      <code class="next">col.r = (tone > (0.81)) ? 1.0 : tone + 0.19;</code>
      <code class="next">col.g = (tone < (0.055)) ? 0.0 : tone - 0.055;</code>
      <code class="next">col.b = (tone < (0.22)) ? 0.0 : tone - 0.22;</code>
      <code class="next">gl_FragColor = col;</code>
    </pre>
  </div></section>

  <section class="slide"><div>
    <h2>Сепия</h2>
    <img src="pictures/sepia.png" alt="" width="600">
  </div></section>
  
  <section class="slide"><div>
    <h2>Отрисовка</h2>
    <pre class="vertical-middle">
      <code>renderer = new THREE.WebGLRenderer()</code>
      <code>animate();</code>
      <code>animate = function() {</code>
      <code>   requestAnimationFrame(animate);</code>
      <code>   <mark>renderer.render(scene, camera);</mark></code>
      <code>}</code>
    </pre>
  </div></section>

  <section class="slide toon"><div>
    <h2>Cartoon шейдер. Примеры</h2>
    <table>
    <tr>
      <td>
        <img src="http://4.bp.blogspot.com/_hTm-LSlj8U4/TTHWsM-crwI/AAAAAAAAAPs/B-e9sUFX7Ho/s1600/car.jpg" alt="" width="650">
      </td>
      <td>
        <img src="http://1.bp.blogspot.com/_hTm-LSlj8U4/TTHXHLttwCI/AAAAAAAAAP0/JosHXP0AF4A/s1600/toonCar.bmp" alt="" width="650">
      </td>
    </tr>
    </table>
  </div></section>

  <section class="slide"><div>
    <h2>Cartoon шейдер. Код</h2>
    <pre class="vertical-middle">
      <code>HueLevels[0] = 0.0;</code> 
      <code>HueLevels[1] = 80.0;</code>  
      <code>HueLevels[2] = 160.0;</code>
      <code>HueLevels[3] = 240.0;</code>
      <code>HueLevels[4] = 320.0;</code>
      <code>HueLevels[5] = 360.0;</code>
      <code class="next">if (color == "Hue")</code>
      <code class="next">  for (int i = 0; i&lt;HueLevCount-1; i++)</code>
      <code class="next">    if (col &gt;= HueLevels[i] && col &lt;= HueLevels[i+1])</code>
      <code class="next">      return HueLevels[i+1];</code>
    </pre>
  </div></section>

  <section class="slide"><div>
    <h2>Постобработка</h2>
    <pre class="vertical-middle">
      <code>composer = new THREE.EffectComposer(<mark class="important">renderer</mark>);</code>
      <code class="next">composer.addPass( new THREE.RenderPass(scene, camera) );</code>

      <code class="next">Toon = { uniforms: uniforms,
        vertexShader: vertexShader,
        fragmentShader: fragmentShader,
      };</code>

      <code class="next">effect = new THREE.ShaderPass(Toon);</code>
      <code class="next">effect.renderToScreen = true;</code>
      <code class="next">composer.addPass(effect);</code>
    </pre>
  </div></section>

  <section class="slide"><div>
    <h2>Отображение</h2>
    <pre>
        <code>animate();</code>
        <code>animate: function() {</code>
        <code>   requestAnimationFrame(animate);</code>
        <code>   <mark class="important">composer</mark>.render();</code>
        <code>}</code>
    </pre>
  </div></section>


  <section class="slide top-threejs big-img"><div>
    <h2>Сцена с постобработкой</h2>
    <img src="pictures/post.png" alt="">
<a href="http://threejs.org/examples/webgl_postprocessing_glitch.html">
    threejs.org/examples</a>
    <!-- <div id="webgl-player"><img id="preloader" src="./css/load.gif" class="absolute-center"/></div> -->
  </div></section>
  
  <section class="slide shout shaders big-img"><div>
    <h2>Частицы</h2>
    <img src="pictures/particle1.jpg" alt="" >
  </div></section>

  <section class="slide"><div>
    <h2>Сравнение визуализации частиц</h2>
    <img src="pictures/quake.jpg" alt=""  width="100%">
  </div></section>

  <section class="slide"><div>
    <h2>Частицы</h2>
    <pre class="vertical-middle">
      <code>particleObj = new THREE.ParticleSystem(geometry, material);</code> 
      <code>particleObj.position.set(0, 50, 0);</code>  
      <code>particleObj.dynamic = true;</code>
      <code>particleObj.sortParticles = true;</code>
      <code>scene.add( particleObj );</code>
    </pre>
  </div></section>

   <section class="slide  top-threejs big-img "><div>
   <h2>Частицы</h2>
   <img src="pictures/particle.png" alt="">
    <a href="http://oos.moxiecode.com/js_webgl/particles_morph/" target="_blank">http://oos.moxiecode.com/js_webgl/particles_morph/</a>
  <!-- <iframe width="100%" height="100%" src="https://www.blend4web.com/apps/dairy_plant/dairy_plant.html?lang=ru&v=20160531180542" frameborder="0" allowfullscreen></iframe> -->
  </div></section>

  <section class="slide"><div>
    <h2>Отладка</h2>
    <ul class="vertical-middle">
      <li>
        <a href="https://chrome.google.com/webstore/detail/threejs-inspector/dnhjfclbfhcbcdfpjaeacomhbdfjbebi" target="_blank">
          Three.js Inspector
        </a>
      </li>
      <li>
       <a href="http://benvanik.github.io/WebGL-Inspector/" target="_blank">
          WebGL-Inspector
        </a>
      </li>
      <li>
       <a href="https://developer.mozilla.org/en-US/docs/Tools/Shader_Editor" target="_blank">
          Mozilla Shader Editor
        </a>
      </li>
    </ul>
  </div></section>

  <section class="slide"><div>
    <h2>Преимущества WebGL</h2>
    <ul class="vertical-middle">
      <li>
        Производительность за счет GPU
      </li>
      <li>
        Отсутствие компиляции
      </li>
      <li>
        Кроссплатформенность
      </li>
      <li>
        Автоматическое управление памятью
      </li>
      <li>
        Открытый стандарт
      </li>
    </ul>
  </div></section>

  <section class="slide"><div>
    <h2>Недостатки</h2>
    <ul class="vertical-middle">
      <li>
        Многополигональные сцены
      </li>
      <li>
        Требуется оптимизация
      </li>
      <li>
        Растровая графика
      </li>
    </ul>
  </div></section>



  <section class="slide"><div>
    <h2>Практическое применение WebGL</h2>
    <ul class="vertical-middle">
      <li>Визуализации растровой графики</li>
      <li>Редактирование и анализ изображений</li>
      <li>Фильтрация видео</li>
      <li>Интерактивая графика</li>
      <li>Игры</li>
      <li>Статистика в виде графиков</li>
    </ul>
  </div></section>

  <section class="slide top-threejs big-img background"><div>
    <h2>Интерактивность</h2>
    <img src="pictures/future.jpeg" alt="">
  </div></section>

  <section class="slide"><div>
    <h2>Курс WebGL</h2>
    <div class="vertical-middle">
    <a href="https://www.udacity.com/course/interactive-3d-graphics--cs291" target="_blank">
      <img src="pictures/udacity.svg">
    </a></div>
  </div></section>

  <section class="slide"><div>
    <h2>Полезные ссылки</h2>
    <ul class="vertical-middle">
      <li>
        <a href="http://learningwebgl.com" target="_blank">
          learningwebgl.com
        </a>
      </li>
      <li>
        <a href="http://webglacademy.com" target="_blank">
          webglacademy.com
        </a>
      </li>
      <li>
        <a href="http://davidscottlyons.com/threejs" target="_blank">
          davidscottlyons.com/threejs
        </a>
      </li>
      <li>
        Книга
        <a href="http://www.ozon.ru/context/detail/id/31239396/" target="_blank">
          WebGL. Программирование трехмерной графики
        </a>
      </li>
      <li>
        Видео уроки Никиты Северинова
        <a href="http://diductio.ru/course/2060/" target="_blank">diductio.ru/course/2060/</a>
      </li>
    </ul>
  </div></section>

  <!-- <section class="slide"><div>
    <h2>Опрос Ficus.io</h2>
    Готовы ли делать проекты более интерактивными с помощью WebGL?
  </div></section> -->

  <!-- <section class="slide"><div>
    <h2>Исходники</h2>
    <table class="text-center table">
      <tr>
        <td><h3>github.com/Likita</h3></td>
        <td><img src="pictures/qr.gif" alt="" class="qr"></td>
      </tr>
    </table>
  </div></section> -->

  <section class="slide"><div>
    <h2>Презентация</h2>
    <div class="absolute-center big-font">
      <a href="http://vasilika.ru/webgl-texture" target="_blank">vasilika.ru</a>
    </div>
  </div></section>

  <section class="slide text-center"><div>
    <h2>Василика Климова</h2>
    <table class="table-contact table">
      <tr>
        <td><img src="pictures/vk.png" alt=""></td>
        <td><a href="https://vk.com/likita" target="_blank">likita</a></td>
      </tr>
      <tr>
        <td><img src="pictures/fb.png" alt=""></td>
        <td><a href="https://www.facebook.com/vasilika.klimova" target="_blank">vasilika.klimova</a></td>
      </tr>
      <tr>
        <td><img src="pictures/tw.png" alt=""></td>
        <td><a href="https://twitter.com/Lik04ka" target="_blank">lik04ka</a></td>
      </tr>
    </table>
    <h1>Спасибо за внимание!</h1>
  </div></section>

  <p class="badge"><a href="https://github.com/shower/shower">Fork me on Github</a></p>
  <div class="progress"><div></div></div>
  <script src="shower/shower.min.js"></script>
</body>
</html>